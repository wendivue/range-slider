!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e,r){var i={"./components/Setting/Setting.scss":1,"./components/Setting/img/vector.png":2,"./demo/demo.scss":3,"./favicon/android-chrome-192x192.png":4,"./favicon/android-chrome-512x512.png":5,"./favicon/apple-touch-icon.png":6,"./favicon/favicon-16x16.png":7,"./favicon/favicon-32x32.png":8,"./favicon/mstile-150x150.png":9,"./favicon/safari-pinned-tab.svg":10,"./scss/reset.scss":11,"./scss/vars.scss":12,"./ts/View/UI/Template/Template.scss":13};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id=0},function(t,e,r){},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/vector.png"},function(t,e,r){},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/android-chrome-192x192.png"},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/android-chrome-512x512.png"},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/apple-touch-icon.png"},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/favicon-16x16.png"},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/favicon-32x32.png"},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/mstile-150x150.png"},function(t,e,r){"use strict";r.r(e),e.default=r.p+"img/safari-pinned-tab.svg"},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";var i;r.r(e),function(t){t.SINGLE="single",t.FROM="from",t.TO="to",t.STEP="step",t.PERCENT_FROM="percentFrom",t.PERCENT_TO="percentTo",t.PERCENT_SINGLE="percentSingle",t.MIN="min",t.MAX="max",t.TYPE="type",t.INPUT="isInput",t.RANGE="isRange",t.LABEL="isLabel",t.VERTICAL="isVertical",t.SCALE="isScale",t.DOUBLE="double",t.ELEMENTTYPE="elementType"}(i||(i={}));var n,o=i,a=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.unsubscribe=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},t.prototype.notify=function(t){this.observers.forEach((function(e){return e(t)}))},t}(),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(){return(l=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},c=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,n++)i[n]=o[a];return i},h=o.FROM,p=o.TO,u=o.MAX,f=o.MIN,d=o.STEP,g=o.PERCENT_FROM,y=o.PERCENT_TO,v=o.SINGLE,_=o.PERCENT_SINGLE,w=o.TYPE,b=o.DOUBLE,m=function(t){function e(e){var r=t.call(this)||this;return r.config=e,r.config=r.validateConfig(e),r}return s(e,t),e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(t){this.config=l(l({},this.config),t),this.config=this.validateConfig(this.config)},e.prototype.add=function(t,e){var r=this.config,i={value:t};Object.keys(r).forEach((function(r){var n;r===e&&((n={})[r]=t,i=n)})),this.config=l(l({},this.config),i)},e.prototype.get=function(t){var e,r=this.config;if(Object.keys(r).forEach((function(i){i===t&&(e=r[i])})),void 0===e)throw new Error("value не передан");return e},e.prototype.getPercentage=function(t,e){var r=this.calcPercentageFromStep(this.createStep(),t);return r=this.validateEdgePercentage(r),r=this.validateTwoHandle(r,e)},e.prototype.getValue=function(t){var e=this.calcValue(t);return e=this.validateEdgeValue(e),e=parseFloat(e.toFixed(2))},e.prototype.getPercentageInput=function(t){return this.calcPercentageInput(t)},e.prototype.createStep=function(){var t=this,e=this.get(d),r=this.get(u),i=this.get(f),n=1e3,o=r/(e=this.validateStep(e))-i/e-1,a=[],s=0;if(o>n){var l=Math.round(o/n);o=n,e=e*l+e}for(var h=0;h<o;h+=1)s+=e,a.push(s);return a=a.map((function(e){return 100*e/(t.get(u)-t.get(f))})),a=c([0],a,[100])},e.prototype.validateEdgeValue=function(t){var e=t;return t<this.get(f)&&(e=this.get(f)),t>this.get(u)&&(e=this.get(u)),e},e.prototype.validateRange=function(t,e){var r=this.get(u),i=this.get(f),n=this.get(d),o=t;return e===u&&o<i+n&&(o=i+n),e===f&&o>r-n&&(o=r-n),e===u&&o<n&&(o=2*n),o},e.prototype.validateTwoHandleValue=function(t,e){var r=this.get(h),i=this.get(p),n=this.get(d),o=this.get(u),a=t;return e===h&&(t>i&&(a=i-n),t>=o&&i===o&&(a=o-n)),e===p&&(t<r&&(a=r+n),t<=0&&0===r&&(a=n)),a},e.prototype.validateStep=function(t){var e=this.get(u),r=this.get(f),i=e/2,n=t;return n>i&&(n=i),n>e-r&&(n=e-r),n<.5&&(n=.5),n},e.prototype.getConfigWithArrayStep=function(){var t=this.createStep(),e=this.getConfig();return l(l({},e),{arrayStep:t})},e.prototype.initConfigValue=function(){this.get(w)===v&&this.addConfigValue(this.get(v),v),this.get(w)===b&&(this.addConfigValue(this.get(h),h),this.addConfigValue(this.get(p),p))},e.prototype.counting=function(t){var e=l({},t);if(void 0!==e.min||void 0!==e.max)this.addsRange(e);else{var r=e.elementType;if(!r)throw new Error("elementType - не найдено");var i=e[r];if(void 0===i)throw new Error("percentage - не найдено");e.isInput&&(i=this.validateEdgeValue(i),i=this.validateTwoHandleValue(i,r),i=this.getPercentageInput(i)),i=this.getPercentage(i,r);var n=this.getValue(i);this.adds(i,n,r)}e=this.getConfig();var o=this.createStep(),a=l(l({},e),{arrayStep:o});this.notify(a)},e.prototype.adds=function(t,e,r){r===h&&(this.add(t,g),this.add(e,h)),r===p&&(this.add(t,y),this.add(e,p)),r===v&&(this.add(t,_),this.add(e,v))},e.prototype.addsRange=function(t){if(void 0!==t.min){var e=t.min;e=this.validateRange(e,f),this.add(e,f)}if(void 0!==t.max){var r=t.max;r=this.validateRange(r,u),this.add(r,u)}},e.prototype.addConfigValue=function(t,e){var r=this.getPercentageInput(t);e===h&&this.add(r,g),e===p&&this.add(r,y),e===v&&this.add(r,_)},e.prototype.validateConfig=function(t){var e=t.min,r=t.max,i=t.step,n=t.from,o=t.to,a=t.single,s=t,l=2*i,c=r/2;return e=Math.abs(e),r=Math.abs(r),(i=Math.abs(i))<.5&&(i=.5),e>r-i&&(e=r-i),r<e+i&&(r=e+i),r<i&&(r=l),i>c&&(i=c),i>r-e&&(i=r-e),(n=Math.abs(n))>(o=Math.abs(o))&&(n=o-i),o<n&&(o=n+i),n>r&&(n=r-l),o>r&&(o=r-i),(a=Math.abs(a))>r&&(a=r-i),s.min=e,s.max=r,s.step=i,s.from=n,s.to=o,s.single=a,s},e.prototype.calcPercentageFromStep=function(t,e){var r=this,i=e,n=this.get(d);return t.map((function(t){var o=100*n/(r.get(u)-r.get(f));return 0===t&&(i=t),e>=100&&(i=t),e>=t&&(i=t),e<=t+o/2&&e>=t-o/2&&(i=t),i})),i},e.prototype.calcValue=function(t){return Number.isInteger(this.get(d))?Math.round((this.get(u)-this.get(f))/100*t+this.get(f)):(this.get(u)-this.get(f))/100*t+this.get(f)},e.prototype.calcPercentageInput=function(t){return 100*t/this.get(u)},e.prototype.validateEdgePercentage=function(t){var e=t;t<0&&(e=0);return t>100&&(e=100),e},e.prototype.validateTwoHandle=function(t,e){var r=this.get(g),i=this.get(y),n=100*this.get(d)/(this.get(u)-this.get(f)),o=t;return e===h&&t>=i-n&&(o=i-n),e===p&&(t<=r&&(o=r+n),t<=0&&0===r&&(o=n)),o},e}(a);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e,r){var i=r.value;if("function"!=typeof i)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(E(i)));var n=!1;return{configurable:!0,get:function(){if(n||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof i)return i;var r=i.bind(this);return n=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return r},set:function(t){i=t,delete this[e]}}),n=!1,r},set:function(t){i=t}}}var T=function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},V=o.SINGLE,O=o.DOUBLE,L=o.FROM,M=o.ELEMENTTYPE,H=function(){function t(t,e,r,i){this.anchor=t,this.isVertical=e,this.type=r,this.view=i,this.init()}return t.prototype.init=function(){this.createClass(this.isVertical,this.type),this.createHtml(this.anchor),this.bindWrapperEvents()},t.prototype.createHtml=function(t){var e='\n    <div class="slider__main-wrapper '+this.classWrapperMainVertical+'">\n      <div class="slider__wrapper '+this.classWrapperVertical+" "+this.classWrapperSingle+" "+this.classWrapperDouble+'">\n      </div>\n    </div>';if(t.insertAdjacentHTML("afterbegin",e),this.type===V){var r=this.anchor.querySelector(".slider__wrapper_single");if(!r)throw new Error("sliderSingle - не найдено");this.sliderSingle=r}if(this.type===O){var i=this.anchor.querySelector(".slider__wrapper_double");if(!i)throw new Error("sliderDouble - не найдено");this.sliderDouble=i}},t.prototype.createClass=function(t,e){this.classWrapperMainVertical=t?"slider__main-wrapper_vertical":"",this.classWrapperVertical=t?"slider__wrapper_vertical":"",this.classWrapperSingle=e===V?"slider__wrapper_single":"",this.classWrapperDouble=e===O?"slider__wrapper_double":""},t.prototype.bindWrapperEvents=function(){var t;if(this.type===V&&(t=this.sliderSingle),this.type===O&&(t=this.sliderDouble),void 0===t)throw new Error("element не передан");t.addEventListener("click",this.wrapperClick)},t.prototype.wrapperClick=function(t){var e=t.currentTarget;if(e instanceof HTMLElement){var r,i=this.view.getShift(t,e),n=this.validateElementType(e),o={};r=this.isVertical?this.view.calcPercentage(i.y):this.view.calcPercentage(i.x),o[n=this.view.validateRangeType(r,n)]=r,o[M]=n,this.view.notify(o)}},t.prototype.validateElementType=function(t){var e;if(t===this.sliderSingle&&(e=V),t===this.sliderDouble&&(e=L),!e)throw new Error("elementType - не найдено");return e},T([S],t.prototype,"wrapperClick",null),t}(),C=function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},x=o.FROM,P=o.TO,j=o.DOUBLE,R=o.SINGLE,I=o.ELEMENTTYPE,N=function(){function t(t,e,r){this.anchor=t,this.isVertical=e,this.view=r,this.anchor=t}return t.prototype.init=function(t){t===R&&this.bindHandleEvents(R),t===j&&(this.bindHandleEvents(x),this.bindHandleEvents(P))},t.prototype.bindHandleEvents=function(t){var e;if(t===R&&(e=this.anchor.querySelector(".slider__handle_single")),t===x&&(e=this.anchor.querySelector(".slider__handle_from")),t===P&&(e=this.anchor.querySelector(".slider__handle_to")),!e)throw new Error("element не передан");e.addEventListener("pointerdown",this.handleMouseDown)},t.prototype.handleMouseDown=function(t){var e=this;t.preventDefault();var r=t.target;if(r instanceof HTMLElement){var i={shift:this.view.getShift(t,r),element:r},n=function(t){return e.handleMouseMove(i,t)},o=function(){document.removeEventListener("pointermove",n),document.removeEventListener("pointerup",o)};document.addEventListener("pointermove",n),document.addEventListener("pointerup",o)}},t.prototype.handleMouseMove=function(t,e){var r,i=this.validateElementType(t.element),n=this.view.getNewShift(e,t.shift),o={};r=this.isVertical?this.view.calcPercentage(n.y):this.view.calcPercentage(n.x),o[i]=r,o[I]=i,this.view.notify(o)},t.prototype.validateElementType=function(t){var e,r=this.anchor.querySelector(".slider__handle_from"),i=this.anchor.querySelector(".slider__handle_to"),n=this.anchor.querySelector(".slider__handle_single"),o=this.anchor.querySelector(".slider__label-text_from"),a=this.anchor.querySelector(".slider__label-text_to"),s=this.anchor.querySelector(".slider__label-text_single");if(t!==r&&t!==o||(e=x),t!==i&&t!==a||(e=P),t!==n&&t!==s||(e=R),!e)throw new Error("elementType - не найдено");return e},C([S],t.prototype,"handleMouseDown",null),t}(),q=o.SINGLE,F=function(){function t(t,e,r){this.anchor=t,this.isVertical=e,this.view=r,this.init()}return t.prototype.moveElement=function(t){var e=this.anchor.querySelector(".slider__handle_single");if(!e)throw new Error("single - не найдено");this.isVertical?e.style.top=t+"%":e.style.left=t+"%"},t.prototype.init=function(){this.createClass(this.isVertical),this.createHtml(this.anchor),new N(this.anchor,this.isVertical,this.view).init(q)},t.prototype.createHtml=function(t){var e='<div class="slider__handle slider__handle_single '+this.classHandleVertical+" \n    "+this.classHandleSingleVertical+'"></div>',r=t.querySelector(".slider__wrapper");if(!r)throw new Error("slider - не найдено");r.insertAdjacentHTML("beforeend",e)},t.prototype.createClass=function(t){this.classHandleSingleVertical=t?"slider__handle_single_vertical":"",this.classHandleVertical=t?"slider__handle_vertical":""},t}(),D=function(){function t(t,e){this.anchor=t,this.isVertical=e,this.init()}return t.prototype.changeLabelValue=function(t){var e=this.anchor.querySelector(".slider__label-text_single");if(!e)throw new Error("labelSingle - не найдено");e.innerHTML=t},t.prototype.init=function(){this.createClass(this.isVertical),this.createHtml(this.anchor)},t.prototype.createHtml=function(t){var e='<div class="slider__label '+this.classLabelVertical+'"><div class="slider__label-text '+this.classLabelTextVertical+' slider__label-text_single"></div></div>',r=t.querySelector(".slider__handle_single");if(!r)throw new Error("handle - не найдено");r.insertAdjacentHTML("afterbegin",e)},t.prototype.createClass=function(t){this.classLabelVertical=t?"slider__label_vertical":"",this.classLabelTextVertical=t?"slider__label-text_vertical":""},t}();function A(){return Math.floor(Math.random()*Date.now())}var U,B=function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},k=o.MIN,W=o.MAX,G=function(){function t(t,e,r,i){this.anchor=t,this.min=e,this.max=r,this.view=i,this.init(t,e,r)}return t.prototype.changeValue=function(t,e){this.rangeMin.value=t,this.rangeMax.value=e},t.prototype.init=function(t,e,r){this.createHtml(t,e,r),this.bindRangeEvents(k),this.bindRangeEvents(W)},t.prototype.createHtml=function(t,e,r){var i="min-"+A(),n="max-"+A(),o='\n    <div class="slider__wrapper-input">\n      <label class="slider__title-input" for="'+i+'">Min</label>\n      <input id="'+i+'" type="number" class="input slider__range slider__range-min" value='+e+' >\n    </div>\n\n    <div class="slider__wrapper-input">\n      <label class="slider__title-input" for="'+n+'">Max</label>\n      <input id="'+n+'" type="number" class="input slider__range slider__range-max" value='+r+" >\n    </div>\n    ",a=t.querySelector(".slider__main-wrapper");if(!a)throw new Error("slider - не найдено");a.insertAdjacentHTML("afterend",o);var s=this.anchor.querySelector(".slider__range-min"),l=this.anchor.querySelector(".slider__range-max");if(!s)throw new Error("rangeMin - не найдено");if(!l)throw new Error("rangeMax - не найдено");this.rangeMin=s,this.rangeMax=l},t.prototype.bindRangeEvents=function(t){var e;if(t===k&&(e=this.rangeMin),t===W&&(e=this.rangeMax),void 0===e)throw new Error("element не передан");e.addEventListener("change",this.rangeOnChange)},t.prototype.rangeOnChange=function(t){var e=t.target;if(e instanceof HTMLInputElement){var r=Math.abs(parseFloat(this.getElement(k).value)),i=Math.abs(parseFloat(this.getElement(W).value)),n={};Number.isNaN(r)&&(r=this.min),Number.isNaN(i)&&(i=this.max),e===this.getElement(k)&&(n={min:r}),e===this.getElement(W)&&(n={max:i}),this.view.notify(n)}},t.prototype.getElement=function(t){var e;if(t===k&&(e=this.rangeMin),t===W&&(e=this.rangeMax),!e)throw new Error("element - не найдено");return e},B([S],t.prototype,"rangeOnChange",null),t}(),Y=function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},X=o.SINGLE,Q=o.ELEMENTTYPE,z=o.INPUT,J=function(){function t(t,e){this.anchor=t,this.view=e,this.init()}return t.prototype.changeValue=function(t){var e=this.anchor.querySelector(".input__single");if(!e)throw new Error("inputSingle - не найдено");e.value=t},t.prototype.createHtml=function(){var t="single-"+A(),e='\n    <div class="slider__wrapper-input">\n      <label class="slider__title-input" for="'+t+'">From</label>\n      <input id="'+t+'" type="number" class="input input__single">\n    </div>\n    ',r=this.anchor.querySelector(".slider__main-wrapper");if(!r)throw new Error("slider - не найдено");r.insertAdjacentHTML("afterend",e)},t.prototype.init=function(){this.createHtml(),this.bindInputEvents()},t.prototype.bindInputEvents=function(){var t=this.anchor.querySelector(".input__single");if(!t)throw new Error("element - не найдено");t.addEventListener("change",this.inputOnChange)},t.prototype.inputOnChange=function(t){var e=t.target,r=X,i={},n=parseFloat(e.value);Number.isNaN(n)&&(n=this.view.config[r]),i[r]=n,i[Q]=r,i[z]=!0,this.view.notify(i)},Y([S],t.prototype,"inputOnChange",null),t}(),K=o.SINGLE,Z=o.DOUBLE,tt=function(){function t(t,e,r){this.anchor=t,this.isVertical=e,this.type=r,this.init()}return t.prototype.changeBar=function(t,e){var r=this.anchor.querySelector(".slider__bar");if(!r)throw new Error("bar - не найдено");if(this.isVertical){if(this.type===K&&(r.style.height=t+"%"),this.type===Z){if(void 0===e)throw new Error("to не передан");r.style.height=e-t+"%",r.style.top=t+"%"}}else if(this.type===K&&(r.style.width=t+"%"),this.type===Z){if(void 0===e)throw new Error("to не передан");r.style.width=e-t+"%",r.style.left=t+"%"}},t.prototype.init=function(){this.createClass(this.isVertical,this.type),this.createHtml(this.anchor)},t.prototype.createHtml=function(t){var e='<div class="slider__bar '+this.classBarVertical+"\n    "+this.classBarSingle+" "+this.classBarSingleVertical+'"></div>',r=t.querySelector(".slider__wrapper");if(!r)throw new Error("slider - не найдено");r.insertAdjacentHTML("afterbegin",e)},t.prototype.createClass=function(t,e){this.classBarVertical=t?"slider__bar_vertical":"",this.classBarSingle=e===K?"slider__bar_single":"",this.classBarSingleVertical=e===K&&t?"slider__bar_single_vertical":""},t}(),et=function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},rt=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,n++)i[n]=o[a];return i},it=o.DOUBLE,nt=o.SINGLE,ot=o.FROM,at=o.ELEMENTTYPE,st=o.INPUT,lt=function(){function t(t,e,r,i){this.anchor=t,this.isVertical=e,this.type=r,this.view=i,this.init()}return t.prototype.changeScale=function(t,e,r,i){var n=this,o=t,a=12;for(r>=100&&(a=7),r>1e3&&(a=4);o.length>a;)for(var s=0;s<=o.length;s+=1)o.splice(s,1);if(o.length>2){var l=o.pop(),c=100*i/(r-e);if(!l)throw new Error("lastNumberArray - не найдено");if(l>=100&&!(l=o.pop()))throw new Error("lastNumberArray - не найдено");c<=100-l&&c>10&&(o=rt(o,[l]))}o=(o=rt([0],o,[100])).filter((function(t,e,r){return r.indexOf(t)===e}));var h=this.anchor.querySelector(".slider__scale");if(!h)throw new Error("scale - не найдено");h.innerHTML="",Object.entries(o).forEach((function(t){var o=t[0],a=t[1],s=n.calculateValue(a,e,r,i),l='<div class="slider__scale-item '+n.classScaleItemVertical+'">'+s+"</div>";h.insertAdjacentHTML("beforeend",l);var c=n.anchor.querySelectorAll(".slider__scale-item");n.isVertical?c[parseFloat(o)].style.top=a+"%":c[parseFloat(o)].style.left=a+"%"}))},t.prototype.init=function(){this.createClass(this.isVertical),this.createHtml(this.anchor),this.bindScaleEvents()},t.prototype.createHtml=function(t){var e='<div class="slider__scale '+this.classScaleVertical+" "+this.classType+'"></div>',r=t.querySelector(".slider__main-wrapper");if(!r)throw new Error("slider - не найдено");if(r.insertAdjacentHTML("beforeend",e),this.type===nt){var i=t.querySelector(".slider__scale_single");if(!i)throw new Error("scaleSingle - не найдено");this.scaleSingle=i}if(this.type===it){var n=t.querySelector(".slider__scale_double");if(!n)throw new Error("scaleDouble - не найдено");this.scaleDouble=n}},t.prototype.createClass=function(t){this.classType=this.type===it?"slider__scale_double":"slider__scale_single",this.classScaleVertical=t?"slider__scale_vertical":"",this.classScaleItemVertical=t?"slider__scale-item_vertical":""},t.prototype.calculateValue=function(t,e,r,i){var n=t;return n=Number.isInteger(i)?Math.round((r-e)/100*t+e):(r-e)/100*t+e,n=parseFloat(n.toFixed(2))},t.prototype.bindScaleEvents=function(){var t=this.anchor.querySelector(".slider__scale");if(!t)throw new Error("scaleDouble - не найдено");t.addEventListener("click",this.scaleClick)},t.prototype.scaleClick=function(t){var e=t.currentTarget,r=t.target;if(e instanceof HTMLElement&&r instanceof HTMLElement&&(r=r.closest(".slider__scale-item"))instanceof HTMLElement){var i,n=this.validateElementType(e),o={};i=this.view.config.isVertical?r.offsetTop:r.offsetLeft,i=this.view.calcPercentage(i),o[n=this.view.validateRangeType(i,n)]=Number(r.textContent),o[at]=n,o[st]=!0,this.view.notify(o)}},t.prototype.validateElementType=function(t){var e;if(t===this.scaleSingle&&(e=nt),t===this.scaleDouble&&(e=ot),!e)throw new Error("elementType - не найдено");return e},et([S],t.prototype,"scaleClick",null),t}(),ct=function(){function t(){}return t.prototype.createTemplate=function(t,e,r,i){return new H(t,e,r,i)},t.prototype.createBar=function(t,e,r){return new tt(t,e,r)},t.prototype.createHandle=function(t,e,r){return new F(t,e,r)},t.prototype.createLabel=function(t,e){return new D(t,e)},t.prototype.createRange=function(t,e,r,i){return new G(t,e,r,i)},t.prototype.createInput=function(t,e){return new J(t,e)},t.prototype.createScale=function(t,e,r,i){return new lt(t,e,r,i)},t}(),ht=o.FROM,pt=o.TO,ut=o.DOUBLE,ft=function(){function t(t,e,r){this.anchor=t,this.isVertical=e,this.view=r,this.init()}return t.prototype.moveElement=function(t,e){var r=this.anchor.querySelector(".slider__handle_from"),i=this.anchor.querySelector(".slider__handle_to");if(!r)throw new Error("from - не найдено");if(!i)throw new Error("to - не найдено");this.isVertical?(e===ht&&(r.style.top=t+"%"),e===pt&&(i.style.top=t+"%")):(e===ht&&(r.style.left=t+"%"),e===pt&&(i.style.left=t+"%"))},t.prototype.init=function(){this.createClass(this.isVertical),this.createHtml(this.anchor),new N(this.anchor,this.isVertical,this.view).init(ut)},t.prototype.createHtml=function(t){var e='<div class="slider__handle '+this.classHandleVertical+' slider__handle_from"></div><div class="slider__handle '+this.classHandleVertical+" "+this.classHandleToVertical+' slider__handle_to"></div>',r=t.querySelector(".slider__wrapper");if(!r)throw new Error("slider - не найдено");r.insertAdjacentHTML("beforeend",e)},t.prototype.createClass=function(t){this.classHandleVertical=t?"slider__handle_vertical":"",this.classHandleToVertical=t?"slider__handle_to_vertical":""},t}(),dt=function(){function t(t,e){this.anchor=t,this.isVertical=e,this.init()}return t.prototype.changeLabelValue=function(t,e){var r=this.anchor.querySelector(".slider__label-text_from"),i=this.anchor.querySelector(".slider__label-text_to");if(!r)throw new Error("labelFrom - не найдено");if(!i)throw new Error("labelTo - не найдено");r.innerHTML=t,i.innerHTML=e},t.prototype.init=function(){this.createClass(this.isVertical),this.createHtml(this.anchor)},t.prototype.createHtml=function(t){var e='<div class="slider__label '+this.classLabelVertical+'"><div class="slider__label-text '+this.classLabelTextVertical+' slider__label-text_from"></div></div>',r='<div class="slider__label '+this.classLabelVertical+'"><div class="slider__label-text '+this.classLabelTextVertical+' slider__label-text_to"></div></div>',i=t.querySelector(".slider__handle_from"),n=t.querySelector(".slider__handle_to");if(!i)throw new Error("handleFrom - не найдено");if(!n)throw new Error("handleTo - не найдено");i.insertAdjacentHTML("afterbegin",e),n.insertAdjacentHTML("afterbegin",r)},t.prototype.createClass=function(t){this.classLabelVertical=t?"slider__label_vertical":"",this.classLabelTextVertical=t?"slider__label-text_vertical":""},t}(),gt=function(t,e,r,i){var n,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,r,a):n(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},yt=o.FROM,vt=o.TO,_t=o.ELEMENTTYPE,wt=o.INPUT,bt=function(){function t(t,e){this.anchor=t,this.view=e,this.init()}return t.prototype.changeValue=function(t,e){this.inputFrom.value=t,this.inputTo.value=e},t.prototype.init=function(){this.createHtml(),this.bindInputEvents(yt),this.bindInputEvents(vt)},t.prototype.createHtml=function(){var t="from-"+A(),e="to-"+A(),r='\n      <div class="slider__wrapper-input">\n        <label class="slider__title-input" for="'+t+'">From</label>\n        <input id="'+t+'" type="number" class="input input__from">\n      </div>\n\n      <div class="slider__wrapper-input">\n        <label class="slider__title-input" for="'+e+'">To</label>\n        <input id="'+e+'" type="number" class="input input__to">\n      </div>\n      ',i=this.anchor.querySelector(".slider__main-wrapper");if(!i)throw new Error("slider - не найдено");i.insertAdjacentHTML("afterend",r);var n=this.anchor.querySelector(".input__from"),o=this.anchor.querySelector(".input__to");if(!n)throw new Error("inputFrom - не найдено");if(!o)throw new Error("inputTo - не найдено");this.inputFrom=n,this.inputTo=o},t.prototype.bindInputEvents=function(t){var e;if(t===yt&&(e=this.anchor.querySelector(".input__from")),t===vt&&(e=this.anchor.querySelector(".input__to")),!e)throw new Error("element не передан");e.addEventListener("change",this.inputOnChange)},t.prototype.inputOnChange=function(t){var e=t.target;if(e instanceof HTMLInputElement){var r=this.validateElementType(e),i={},n=parseFloat(e.value);Number.isNaN(n)&&(n=this.view.config[r]),i[r]=n,i[_t]=r,i[wt]=!0,this.view.notify(i)}},t.prototype.validateElementType=function(t){var e;if(t===this.inputFrom&&(e=yt),t===this.inputTo&&(e=vt),!e)throw new Error("elementType - не найдено");return e},gt([S],t.prototype,"inputOnChange",null),t}(),mt=function(){function t(){}return t.prototype.createTemplate=function(t,e,r,i){return new H(t,e,r,i)},t.prototype.createBar=function(t,e,r){return new tt(t,e,r)},t.prototype.createHandle=function(t,e,r){return new ft(t,e,r)},t.prototype.createLabel=function(t,e){return new dt(t,e)},t.prototype.createRange=function(t,e,r,i){return new G(t,e,r,i)},t.prototype.createInput=function(t,e){return new bt(t,e)},t.prototype.createScale=function(t,e,r,i){return new lt(t,e,r,i)},t}(),Et=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),St=function(){return(St=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Tt=o.SINGLE,Vt=o.FROM,Ot=o.TO,Lt=o.DOUBLE,Mt=function(t){function e(e,r){var i=t.call(this)||this;return i.config=e,i.app=r,i.UI={},i.init(),i}return Et(e,t),e.prototype.setConfig=function(t){this.config=St(St({},this.config),t)},e.prototype.calcPercentage=function(t){return 100*t/(this.config.isVertical?this.slider.offsetHeight:this.slider.offsetWidth)},e.prototype.getShift=function(t,e){var r=this.getCoords(e);return{x:t.pageX-r.left,y:t.pageY-r.top}},e.prototype.getNewShift=function(t,e){var r=this.getCoords(this.slider);return{x:t.pageX-e.x-r.left,y:t.pageY-e.y-r.top}},e.prototype.updateView=function(t){var e=this.UI,r=e.handle,i=e.bar,n=e.scale,o=e.label,a=e.input,s=e.range;if(!r)throw new Error("handle - не найдено");if(!i)throw new Error("bar - не найдено");var l=t.min,c=t.max,h=t.single,p=t.from,u=t.to,f=t.step,d=t.percentFrom,g=t.percentTo,y=t.percentSingle,v=t.type,_=t.isInput,w=t.isRange,b=t.isLabel,m=t.isScale,E=t.arrayStep;if(v===Lt&&(r.moveElement(d,Vt),r.moveElement(g,Ot),i.changeBar(d,g)),v===Tt&&(r.moveElement(y,Tt),i.changeBar(y)),b){if(!o)throw new Error("label - не найдено");v===Tt&&o.changeLabelValue(h.toString()),v===Lt&&o.changeLabelValue(p.toString(),u.toString())}if(_){if(!a)throw new Error("input - не найдено");v===Tt&&a.changeValue(h.toString()),v===Lt&&a.changeValue(p.toString(),u.toString())}if(w){if(!s)throw new Error("range - не найдено");s.changeValue(l.toString(),c.toString())}if(m){if(!n)throw new Error("scale - не найдено");n.changeScale(E,l,c,f)}},e.prototype.validateRangeType=function(t,e){var r=(this.config.percentTo-this.config.percentFrom)/2,i=e;return i!==Tt&&(i=t>this.config.percentFrom+r?Ot:Vt),i},e.prototype.init=function(){this.createFactory(),this.getHtml(),this.createElement()},e.prototype.getCoords=function(t){var e=t.getBoundingClientRect();return{top:e.top+pageYOffset,left:e.left+pageXOffset}},e.prototype.createFactory=function(){this.config.type===Tt&&(this.factory=new ct),this.config.type===Lt&&(this.factory=new mt)},e.prototype.getHtml=function(){this.factory.createTemplate(this.app,this.config.isVertical,this.config.type,this),this.UI.bar=this.factory.createBar(this.app,this.config.isVertical,this.config.type),this.UI.handle=this.factory.createHandle(this.app,this.config.isVertical,this),this.UI.scale=this.factory.createScale(this.app,this.config.isVertical,this.config.type,this),this.config.isLabel&&(this.UI.label=this.factory.createLabel(this.app,this.config.isVertical)),this.config.isRange&&(this.UI.range=this.factory.createRange(this.app,this.config.min,this.config.max,this)),this.config.isInput&&(this.UI.input=this.factory.createInput(this.app,this))},e.prototype.createElement=function(){var t=this.app.querySelector(".slider__main-wrapper");if(!t)throw new Error("slider - не найдено");this.slider=t},e}(a),Ht=function(){function t(t,e){this.model=t,this.view=e,this.init()}return t.prototype.getConfig=function(){return this.model.getConfig()},t.prototype.subscribe=function(t){this.model.subscribe(t)},t.prototype.unsubscribe=function(t){this.model.unsubscribe(t)},t.prototype.init=function(){var t=this;this.model.initConfigValue(),this.view.updateView(this.model.getConfigWithArrayStep()),this.view.subscribe((function(e){return t.model.counting(e)})),this.model.subscribe((function(e){return t.view.setConfig(e)})),this.model.subscribe((function(e){return t.view.updateView(e)}))},t}(),Ct={single:20,from:20,to:50,step:1,percentFrom:0,percentTo:0,percentSingle:0,min:0,max:1e3,type:"double",isInput:!0,isRange:!0,isLabel:!0,isVertical:!1,isScale:!1},xt=function(){return(xt=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function Pt(t,e){void 0===t&&(t=Ct);var r=new m(t);return this.each((function(){$(this).data("rangeSlider"),$(this).data().rangeSlider=new Ht(r,new Mt(r.getConfig(),e))}))}!function(t){var e=t;e.fn.rangeSlider=function(t){var r=this,i=xt(xt({},Ct),t),n=this[0];return e(this).data("rangeSlider")||Pt.call(this,i,n),this.getConfig=function(){return e(r).data("rangeSlider").getConfig()},this.reset=function(){e(r)[0].innerHTML="";var t=new m(Ct);new Ht(t,new Mt(Ct,r[0]))},this.destroy=function(){e(r)[0].innerHTML=""},this.subscribe=function(t){e(r).data("rangeSlider").subscribe(t)},this.unsubscribe=function(t){e(r).data("rangeSlider").unsubscribe(t)},this.update=function(t){void 0===t&&(t=Ct),e(r)[0].innerHTML="";var i=e(r).data("rangeSlider"),n=xt(xt({},i.getConfig()),t),o=new m(n);new Ht(o,new Mt(o.getConfig(),r[0]))},this}}(jQuery),(U=r(0)).keys().forEach(U)}]);
//# sourceMappingURL=plugin.js.map